# MongoDB Configuration
# Connection string for MongoDB database
SESSION_VIEWER_MONGODB_CONNECTION_STRING=mongodb://mongodb:mongodb@localhost:8550/

# Database and collection names
SESSION_VIEWER_DATABASE_NAME=examples
SESSION_VIEWER_COLLECTION_NAME=sessions

# MongoDB Connection Pool Settings
SESSION_VIEWER_MAX_POOL_SIZE=100
SESSION_VIEWER_MIN_POOL_SIZE=10
SESSION_VIEWER_MAX_IDLE_TIME_MS=30000

# Backend Server Configuration
# Host and port for the FastAPI server
SESSION_VIEWER_BACKEND_HOST=0.0.0.0
SESSION_VIEWER_BACKEND_PORT=8882

# CORS Configuration
# Frontend URL for CORS
SESSION_VIEWER_FRONTEND_URL=http://localhost:8883

# Allowed origins (comma-separated)
# SECURITY: Only list trusted frontend origins here
# NEVER use "*" or wildcard patterns in production
SESSION_VIEWER_ALLOWED_ORIGINS_STR=http://localhost:8883,http://127.0.0.1:8883,http://0.0.0.0:8883

# Pagination Settings
SESSION_VIEWER_DEFAULT_PAGE_SIZE=20
SESSION_VIEWER_MAX_PAGE_SIZE=100

# Logging Configuration
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
SESSION_VIEWER_LOG_LEVEL=INFO

# Structured Logging Configuration
# Format: "text" for development (human-readable), "json" for production (CloudWatch)
SESSION_VIEWER_LOG_FORMAT=text

# Service name for structured logs (used in JSON format for filtering)
SESSION_VIEWER_LOG_SERVICE_NAME=session-viewer-backend

# Environment identifier for structured logs
SESSION_VIEWER_LOG_ENVIRONMENT=development

# Authentication
# Password for accessing the application
# SECURITY: If not set, a random secure password will be auto-generated on startup
# For production, ALWAYS set a strong password via environment variable
SESSION_VIEWER_BACKEND_PASSWORD=123456

# Dynamic Filter Configuration
# Fields that should be displayed as dropdowns with predefined values (enum)
# Comma-separated list of field names
# Example: SESSION_VIEWER_ENUM_FIELDS_STR=metadata.status,metadata.priority
SESSION_VIEWER_ENUM_FIELDS_STR=

# Maximum number of distinct values for a field to be considered as enum
SESSION_VIEWER_ENUM_MAX_VALUES=50

# Rate Limiting Configuration (CWE-307 Prevention)
# Format: "{count}/{period}" where period is: second, minute, hour, day
SESSION_VIEWER_RATE_LIMIT_AUTH=5/minute
SESSION_VIEWER_RATE_LIMIT_SEARCH=30/minute
SESSION_VIEWER_RATE_LIMIT_READ=60/minute
SESSION_VIEWER_RATE_LIMIT_METADATA=10/minute

# Security Headers Configuration (CWE-693 Prevention)
# Set to "false" to disable security headers (not recommended for production)
SESSION_VIEWER_SECURITY_HEADERS_ENABLED=true

# X-Frame-Options: DENY | SAMEORIGIN | ALLOW-FROM uri
SESSION_VIEWER_X_FRAME_OPTIONS=DENY

# Content-Security-Policy (CSP)
SESSION_VIEWER_CONTENT_SECURITY_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; img-src 'self' data:; font-src 'self' https://cdn.jsdelivr.net; connect-src 'self'

# Referrer-Policy
SESSION_VIEWER_REFERRER_POLICY=strict-origin-when-cross-origin

# Permissions-Policy (formerly Feature-Policy)
SESSION_VIEWER_PERMISSIONS_POLICY=geolocation=(), microphone=(), camera=(), payment=()
